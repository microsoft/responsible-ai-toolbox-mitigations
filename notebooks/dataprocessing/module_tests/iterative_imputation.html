<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IterativeDataImputer Example &mdash; Responsible AI Mitigations  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="KNNDataImputer" href="../../../dataprocessing/imputer/knn.html" />
    <link rel="prev" title="IterativeDataImputer" href="../../../dataprocessing/imputer/iterative.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> Responsible AI Mitigations
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install_guide.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integration_to_libs.html">How this library works with the Responsible AI Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">API reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../gallery.html">Gallery</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../gallery.html#tutorials">Tutorials</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../../gallery.html#dataprocessing">DataProcessing</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="encoding.html">Encoding Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="scaler.html">Data Scaling</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_imputation.html">BasicImputer Example</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">IterativeDataImputer Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="knn_imputation.html">KNNDataImputer Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="feat_sel_sequential.html">SeqFeatSelection Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="feat_sel_catboost.html">CatBoostSelection Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="feat_sel_corr_tutorial.html">Checking Correlations Between Variables - A Comprehensive Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="rebalance_imbl.html">Rebalance Class (imblearn)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rebalance_sdv.html">Synthesizer Class (SDV)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../gallery.html#databalanceanalysis">DataBalanceAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gallery.html#cohort">Cohort</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gallery.html#using-scikit-learn-s-pipeline">Using scikit-learn’s Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../gallery.html#case-studies">Case Studies</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../databalanceanalysis/intro.html">DataBalanceAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dataprocessing/intro.html">DataProcessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cohort/intro.html">Cohort</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../utils/utils.html">Utils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Responsible AI Mitigations</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../api.html">API reference</a></li>
          <li class="breadcrumb-item"><a href="../../../dataprocessing/dataprocessing.html">DataProcessing</a></li>
          <li class="breadcrumb-item"><a href="../../../dataprocessing/imputer/imputer.html">Imputers</a></li>
          <li class="breadcrumb-item"><a href="../../../dataprocessing/imputer/iterative.html">IterativeDataImputer</a></li>
      <li class="breadcrumb-item active">IterativeDataImputer Example</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com//microsoft/responsible-ai-toolbox-mitigations/blob/main/docs/notebooks/dataprocessing/module_tests/iterative_imputation.ipynb" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="IterativeDataImputer-Example">
<h1>IterativeDataImputer Example<a class="headerlink" href="#IterativeDataImputer-Example" title="Permalink to this heading"></a></h1>
<p>In this example, we will explore how to perform imputation with the HR promotion dataset using iterative imputation.</p>
<p>This method imputes missing data of a feature using the other features. It uses a round-robin method of modeling each feature with missing values to be imputed as a function of the other features.</p>
<p>This subclass uses the class <code class="docutils literal notranslate"><span class="pre">sklearn.impute.IterativeImputer</span></code> class from <code class="docutils literal notranslate"><span class="pre">sklearn</span></code> in the background (note that this sklearn class is still in an experimental stage).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../../../notebooks&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">raimitigations.dataprocessing</span> <span class="kn">import</span> <span class="n">IterativeDataImputer</span>

<span class="kn">from</span> <span class="nn">download</span> <span class="kn">import</span> <span class="n">download_datasets</span>

<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">BayesianRidge</span><span class="p">,</span> <span class="n">Ridge</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
</pre></div>
</div>
</div>
<section id="Handling-a-DataFrame-with-column-names">
<h2>Handling a DataFrame with column names<a class="headerlink" href="#Handling-a-DataFrame-with-column-names" title="Permalink to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_dir</span> <span class="o">=</span> <span class="s1">&#39;../../../datasets/&#39;</span>
<span class="n">download_datasets</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">+</span> <span class="s1">&#39;hr_promotion/train.csv&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[:</span><span class="mi">10000</span><span class="p">]</span>

<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>employee_id</th>
      <th>department</th>
      <th>region</th>
      <th>education</th>
      <th>gender</th>
      <th>recruitment_channel</th>
      <th>no_of_trainings</th>
      <th>age</th>
      <th>previous_year_rating</th>
      <th>length_of_service</th>
      <th>KPIs_met &gt;80%</th>
      <th>awards_won?</th>
      <th>avg_training_score</th>
      <th>is_promoted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65438</td>
      <td>Sales &amp; Marketing</td>
      <td>region_7</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1</td>
      <td>35</td>
      <td>5.0</td>
      <td>8</td>
      <td>1</td>
      <td>0</td>
      <td>49</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>65141</td>
      <td>Operations</td>
      <td>region_22</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1</td>
      <td>30</td>
      <td>5.0</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>60</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7513</td>
      <td>Sales &amp; Marketing</td>
      <td>region_19</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1</td>
      <td>34</td>
      <td>3.0</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2542</td>
      <td>Sales &amp; Marketing</td>
      <td>region_23</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>2</td>
      <td>39</td>
      <td>1.0</td>
      <td>10</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48945</td>
      <td>Technology</td>
      <td>region_26</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1</td>
      <td>45</td>
      <td>3.0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>73</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>14934</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>other</td>
      <td>1</td>
      <td>37</td>
      <td>4.0</td>
      <td>7</td>
      <td>1</td>
      <td>0</td>
      <td>71</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>22040</td>
      <td>Sales &amp; Marketing</td>
      <td>region_33</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1</td>
      <td>39</td>
      <td>3.0</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>48</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>14188</td>
      <td>Finance</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1</td>
      <td>33</td>
      <td>4.0</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
      <td>58</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>73566</td>
      <td>Operations</td>
      <td>region_28</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>other</td>
      <td>1</td>
      <td>32</td>
      <td>4.0</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
      <td>57</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>21372</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Bachelor's</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1</td>
      <td>32</td>
      <td>3.0</td>
      <td>6</td>
      <td>0</td>
      <td>0</td>
      <td>71</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 14 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;previous_year_rating&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
employee_id             False
department              False
region                  False
education                True
gender                  False
recruitment_channel     False
no_of_trainings         False
age                     False
previous_year_rating     True
length_of_service       False
KPIs_met &gt;80%           False
awards_won?             False
avg_training_score      False
is_promoted             False
dtype: bool
[&#34;Master&#39;s &amp; above&#34; &#34;Bachelor&#39;s&#34; nan &#39;Below Secondary&#39;]
[ 5.  3.  1.  4. nan  2.]
</pre></div></div>
</div>
<section id="Without-Enabling-Encoding">
<h3>Without Enabling Encoding<a class="headerlink" href="#Without-Enabling-Encoding" title="Permalink to this heading"></a></h3>
<p>As we can see above, both the <strong>education</strong> and <strong>previous_year_rating</strong> have missing values.</p>
<p>However, note that the dataset includes categorical columns such as <strong>education</strong>, while sklearn’s <code class="docutils literal notranslate"><span class="pre">sklearn.IterativeImputer</span></code> can only handle numerical data. The good thing is, <code class="docutils literal notranslate"><span class="pre">IteratveDataImputer</span></code> can in fact handle categorical data using the boolean parameter <code class="docutils literal notranslate"><span class="pre">enable_encoder</span></code>.</p>
<p>First, let’s try to use the default value <code class="docutils literal notranslate"><span class="pre">enable_encoder=False</span></code>, categorical data will be excluded from the imputation process, whether it has missing values or not. We can also use <code class="docutils literal notranslate"><span class="pre">col_impute</span></code> to specify only <code class="docutils literal notranslate"><span class="pre">previous_year_rating</span></code> to be imputed.</p>
<p>Additionally, we can specify <code class="docutils literal notranslate"><span class="pre">sklearn.IterativeImputer</span></code>’s parameters using the <code class="docutils literal notranslate"><span class="pre">iterative_params</span></code> dictionary as long as it uses the following format (if you choose not to pass anything to this param, default values will be used).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imputer</span> <span class="o">=</span> <span class="n">IterativeDataImputer</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span>
    <span class="n">col_impute</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;previous_year_rating&#39;</span><span class="p">],</span>
    <span class="n">enable_encoder</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">iterative_params</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;estimator&#39;</span><span class="p">:</span> <span class="n">RandomForestRegressor</span><span class="p">(),</span>
        <span class="s1">&#39;missing_values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
        <span class="s1">&#39;sample_posterior&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;tol&#39;</span><span class="p">:</span> <span class="mf">1e-3</span><span class="p">,</span>
        <span class="s1">&#39;n_nearest_features&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;initial_strategy&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span>
        <span class="s1">&#39;imputation_order&#39;</span><span class="p">:</span> <span class="s1">&#39;ascending&#39;</span><span class="p">,</span>
        <span class="s1">&#39;skip_complete&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;min_value&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="s1">&#39;max_value&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="s1">&#39;random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">imputer</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
<span class="n">new_df</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

WARNING: Categorical columns will be excluded from the iterative imputation process.
If you&#39;d like to include these columns, you need to set &#39;enable_encoder&#39;=True.
If you&#39;d like to use a different type of encoding before imputation, consider using the Pipeline class and call your own encoder before calling this subclass for imputation.
[IterativeImputer] Completing matrix with shape (10000, 9)
[IterativeImputer] Change: 1.5071906463137383, scaled tolerance: 78.297
[IterativeImputer] Early stopping criterion reached.
[IterativeImputer] Completing matrix with shape (10000, 9)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>employee_id</th>
      <th>no_of_trainings</th>
      <th>age</th>
      <th>previous_year_rating</th>
      <th>length_of_service</th>
      <th>KPIs_met &gt;80%</th>
      <th>awards_won?</th>
      <th>avg_training_score</th>
      <th>is_promoted</th>
      <th>gender</th>
      <th>recruitment_channel</th>
      <th>education</th>
      <th>region</th>
      <th>department</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65438.0</td>
      <td>1.0</td>
      <td>35.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>49.0</td>
      <td>0.0</td>
      <td>f</td>
      <td>sourcing</td>
      <td>Master's &amp; above</td>
      <td>region_7</td>
      <td>Sales &amp; Marketing</td>
    </tr>
    <tr>
      <th>1</th>
      <td>65141.0</td>
      <td>1.0</td>
      <td>30.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>60.0</td>
      <td>0.0</td>
      <td>m</td>
      <td>other</td>
      <td>Bachelor's</td>
      <td>region_22</td>
      <td>Operations</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7513.0</td>
      <td>1.0</td>
      <td>34.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
      <td>m</td>
      <td>sourcing</td>
      <td>Bachelor's</td>
      <td>region_19</td>
      <td>Sales &amp; Marketing</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2542.0</td>
      <td>2.0</td>
      <td>39.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
      <td>m</td>
      <td>other</td>
      <td>Bachelor's</td>
      <td>region_23</td>
      <td>Sales &amp; Marketing</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48945.0</td>
      <td>1.0</td>
      <td>45.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>73.0</td>
      <td>0.0</td>
      <td>m</td>
      <td>other</td>
      <td>Bachelor's</td>
      <td>region_26</td>
      <td>Technology</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>14934.0</td>
      <td>1.0</td>
      <td>37.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
      <td>f</td>
      <td>other</td>
      <td>Master's &amp; above</td>
      <td>region_13</td>
      <td>Procurement</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>22040.0</td>
      <td>1.0</td>
      <td>39.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>48.0</td>
      <td>0.0</td>
      <td>m</td>
      <td>sourcing</td>
      <td>Master's &amp; above</td>
      <td>region_33</td>
      <td>Sales &amp; Marketing</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>14188.0</td>
      <td>1.0</td>
      <td>33.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>58.0</td>
      <td>0.0</td>
      <td>f</td>
      <td>sourcing</td>
      <td>Master's &amp; above</td>
      <td>region_13</td>
      <td>Finance</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>73566.0</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>57.0</td>
      <td>1.0</td>
      <td>m</td>
      <td>other</td>
      <td>Master's &amp; above</td>
      <td>region_28</td>
      <td>Operations</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>21372.0</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
      <td>f</td>
      <td>sourcing</td>
      <td>Bachelor's</td>
      <td>region_13</td>
      <td>Procurement</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 14 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">new_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
employee_id             False
no_of_trainings         False
age                     False
previous_year_rating    False
length_of_service       False
KPIs_met &gt;80%           False
awards_won?             False
avg_training_score      False
is_promoted             False
gender                  False
recruitment_channel     False
education                True
region                  False
department              False
dtype: bool
</pre></div></div>
</div>
</section>
<section id="With-Enabling-Encoding">
<h3>With Enabling Encoding<a class="headerlink" href="#With-Enabling-Encoding" title="Permalink to this heading"></a></h3>
<p>Now if we use <code class="docutils literal notranslate"><span class="pre">enable_encoder=True</span></code>, we can include categorical data both to be imputed and to be used in the imputation of other features.</p>
<p>Using the original dataset, we know that both <strong>education</strong> and <strong>previous_year_rating</strong> have missing values. Below, we will not specify the columns to use for imputation (<code class="docutils literal notranslate"><span class="pre">IterativeDataImputer</span></code> will determine this for us).</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">enable_encoder</span></code> parameter allows the class to use ordinal encoding internally before imputation, however, it uses the default ‘auto’ option for its <code class="docutils literal notranslate"><span class="pre">categories</span></code> parameter. We recommend that you use this internal encoding function when you aren’t looking to specify ordinal semantics or order. Otherwise, you should consider using the Pipeline class to apply custom encoding before calling the <code class="docutils literal notranslate"><span class="pre">IterativeDataImputer</span></code> class for imputation.</p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imputer</span> <span class="o">=</span> <span class="n">IterativeDataImputer</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span>
    <span class="n">col_impute</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_encoder</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">iterative_params</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;estimator&#39;</span><span class="p">:</span> <span class="n">RandomForestRegressor</span><span class="p">(),</span>
        <span class="s1">&#39;missing_values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
        <span class="s1">&#39;sample_posterior&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;tol&#39;</span><span class="p">:</span> <span class="mf">1e-3</span><span class="p">,</span>
        <span class="s1">&#39;n_nearest_features&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;initial_strategy&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span>
        <span class="s1">&#39;imputation_order&#39;</span><span class="p">:</span> <span class="s1">&#39;ascending&#39;</span><span class="p">,</span>
        <span class="s1">&#39;skip_complete&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;min_value&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="s1">&#39;max_value&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="s1">&#39;random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">imputer</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
<span class="n">new_df</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

WARNING: &#39;enable_encoder&#39;=True and categorical columns will be encoded using ordinal encoding before applying the iterative imputation process.
If you&#39;d like to use a different type of encoding before imputation, consider using the Pipeline class and call your own encoder before calling this subclass for imputation.
[IterativeImputer] Completing matrix with shape (10000, 14)
[IterativeImputer] Change: 1.624667046565469, scaled tolerance: 78.297
[IterativeImputer] Early stopping criterion reached.
No columns specified for imputation. These columns have been automatically identified at transform time:
[&#39;education&#39;, &#39;previous_year_rating&#39;]

WARNING: Note that encoded columns are not guaranteed to reverse transform if they have imputed values.
If you&#39;d like to use a different type of encoding before imputation, consider using the Pipeline class and call your own encoder before calling this subclass.
[IterativeImputer] Completing matrix with shape (10000, 14)

Imputed categorical columns&#39; reverse encoding transformation complete.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>employee_id</th>
      <th>department</th>
      <th>region</th>
      <th>education</th>
      <th>gender</th>
      <th>recruitment_channel</th>
      <th>no_of_trainings</th>
      <th>age</th>
      <th>previous_year_rating</th>
      <th>length_of_service</th>
      <th>KPIs_met &gt;80%</th>
      <th>awards_won?</th>
      <th>avg_training_score</th>
      <th>is_promoted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65438.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_7</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>35.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>49.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>65141.0</td>
      <td>Operations</td>
      <td>region_22</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1.0</td>
      <td>30.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>60.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7513.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_19</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>34.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2542.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_23</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>2.0</td>
      <td>39.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48945.0</td>
      <td>Technology</td>
      <td>region_26</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1.0</td>
      <td>45.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>73.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>14934.0</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>other</td>
      <td>1.0</td>
      <td>37.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>22040.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_33</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>39.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>48.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>14188.0</td>
      <td>Finance</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>33.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>58.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>73566.0</td>
      <td>Operations</td>
      <td>region_28</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>other</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>57.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>21372.0</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Bachelor's</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 14 columns</p>
</div></div>
</div>
<p>Note that using the encoder before the imputation of <strong>education</strong> column isn’t always guaranteed to reverse transformed as it now includes new imputed values that the encoder can’t always map back to categorical data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">new_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
employee_id             False
department              False
region                  False
education               False
gender                  False
recruitment_channel     False
no_of_trainings         False
age                     False
previous_year_rating    False
length_of_service       False
KPIs_met &gt;80%           False
awards_won?             False
avg_training_score      False
is_promoted             False
dtype: bool
</pre></div></div>
</div>
<p>Now that the missing values have been filled, we can fit a model to the data. Here we do so using a decision tree…</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">raimitigations.dataprocessing</span> <span class="kn">import</span> <span class="n">EncoderOrdinal</span>

<span class="n">encode</span> <span class="o">=</span> <span class="n">EncoderOrdinal</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">new_df</span><span class="p">,</span>
    <span class="n">col_encode</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
<span class="n">encode</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">encode</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">new_df</span><span class="p">)</span>

<span class="n">estimator</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_features</span><span class="o">=</span><span class="s2">&quot;sqrt&quot;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">new_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;is_promoted&#39;</span><span class="p">,</span> <span class="s1">&#39;employee_id&#39;</span><span class="p">])</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;is_promoted&#39;</span><span class="p">]</span>

<span class="n">train_X</span><span class="p">,</span> <span class="n">test_X</span><span class="p">,</span> <span class="n">train_y</span><span class="p">,</span> <span class="n">test_y</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">Y</span><span class="p">)</span>

<span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span> <span class="n">train_y</span><span class="p">)</span>
<span class="n">estimator</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">test_X</span><span class="p">,</span> <span class="n">test_y</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
No columns specified for encoding. These columns have been automatically identfied as the following:
[&#39;department&#39;, &#39;region&#39;, &#39;education&#39;, &#39;gender&#39;, &#39;recruitment_channel&#39;]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.879
</pre></div></div>
</div>
</section>
</section>
<section id="Handling-a-DataFrame-without-column-names">
<h2>Handling a DataFrame without column names<a class="headerlink" href="#Handling-a-DataFrame-without-column-names" title="Permalink to this heading"></a></h2>
<p>Even if the dataset contains no header columns, we can perform the same operations, instead with the column index. The next few cells will demonstrate how to do this.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">+</span> <span class="s1">&#39;hr_promotion/train.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[:</span><span class="mi">10000</span><span class="p">]</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65438</td>
      <td>Sales &amp; Marketing</td>
      <td>region_7</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1</td>
      <td>35</td>
      <td>5.0</td>
      <td>8</td>
      <td>1</td>
      <td>0</td>
      <td>49</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>65141</td>
      <td>Operations</td>
      <td>region_22</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1</td>
      <td>30</td>
      <td>5.0</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>60</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7513</td>
      <td>Sales &amp; Marketing</td>
      <td>region_19</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1</td>
      <td>34</td>
      <td>3.0</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2542</td>
      <td>Sales &amp; Marketing</td>
      <td>region_23</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>2</td>
      <td>39</td>
      <td>1.0</td>
      <td>10</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48945</td>
      <td>Technology</td>
      <td>region_26</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1</td>
      <td>45</td>
      <td>3.0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>73</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>14934</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>other</td>
      <td>1</td>
      <td>37</td>
      <td>4.0</td>
      <td>7</td>
      <td>1</td>
      <td>0</td>
      <td>71</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>22040</td>
      <td>Sales &amp; Marketing</td>
      <td>region_33</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1</td>
      <td>39</td>
      <td>3.0</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>48</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>14188</td>
      <td>Finance</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1</td>
      <td>33</td>
      <td>4.0</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
      <td>58</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>73566</td>
      <td>Operations</td>
      <td>region_28</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>other</td>
      <td>1</td>
      <td>32</td>
      <td>4.0</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
      <td>57</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>21372</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Bachelor's</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1</td>
      <td>32</td>
      <td>3.0</td>
      <td>6</td>
      <td>0</td>
      <td>0</td>
      <td>71</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 14 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0     False
1     False
2     False
3      True
4     False
5     False
6     False
7     False
8      True
9     False
10    False
11    False
12    False
13    False
dtype: bool
[&#34;Master&#39;s &amp; above&#34; &#34;Bachelor&#39;s&#34; nan &#39;Below Secondary&#39;]
[ 5.  3.  1.  4. nan  2.]
</pre></div></div>
</div>
<section id="id1">
<h3>Without Enabling Encoding<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>Using the <code class="docutils literal notranslate"><span class="pre">sklearn_obj</span></code> parameter, we have the option to pass a pre-defined <code class="docutils literal notranslate"><span class="pre">sklearn.impute.IterativeImputer</span></code> object. If the latter is used, <code class="docutils literal notranslate"><span class="pre">iterative_params</span></code> will be overwritten.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.experimental</span> <span class="kn">import</span> <span class="n">enable_iterative_imputer</span>  <span class="c1"># noqa # pylint: disable=unused-import</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">IterativeImputer</span>

<span class="n">imputer</span> <span class="o">=</span> <span class="n">IterativeDataImputer</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span>
    <span class="n">col_impute</span><span class="o">=</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
    <span class="n">enable_encoder</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">sklearn_obj</span><span class="o">=</span><span class="n">IterativeImputer</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">RandomForestRegressor</span><span class="p">(),</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">imputer</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
<span class="n">new_df</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

WARNING: Categorical columns will be excluded from the iterative imputation process.
If you&#39;d like to include these columns, you need to set &#39;enable_encoder&#39;=True.
If you&#39;d like to use a different type of encoding before imputation, consider using the Pipeline class and call your own encoder before calling this subclass for imputation.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>1</th>
      <th>2</th>
      <th>4</th>
      <th>5</th>
      <th>3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65438.0</td>
      <td>1.0</td>
      <td>35.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>49.0</td>
      <td>0.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_7</td>
      <td>f</td>
      <td>sourcing</td>
      <td>Master's &amp; above</td>
    </tr>
    <tr>
      <th>1</th>
      <td>65141.0</td>
      <td>1.0</td>
      <td>30.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>60.0</td>
      <td>0.0</td>
      <td>Operations</td>
      <td>region_22</td>
      <td>m</td>
      <td>other</td>
      <td>Bachelor's</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7513.0</td>
      <td>1.0</td>
      <td>34.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_19</td>
      <td>m</td>
      <td>sourcing</td>
      <td>Bachelor's</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2542.0</td>
      <td>2.0</td>
      <td>39.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_23</td>
      <td>m</td>
      <td>other</td>
      <td>Bachelor's</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48945.0</td>
      <td>1.0</td>
      <td>45.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>73.0</td>
      <td>0.0</td>
      <td>Technology</td>
      <td>region_26</td>
      <td>m</td>
      <td>other</td>
      <td>Bachelor's</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>14934.0</td>
      <td>1.0</td>
      <td>37.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>f</td>
      <td>other</td>
      <td>Master's &amp; above</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>22040.0</td>
      <td>1.0</td>
      <td>39.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>48.0</td>
      <td>0.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_33</td>
      <td>m</td>
      <td>sourcing</td>
      <td>Master's &amp; above</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>14188.0</td>
      <td>1.0</td>
      <td>33.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>58.0</td>
      <td>0.0</td>
      <td>Finance</td>
      <td>region_13</td>
      <td>f</td>
      <td>sourcing</td>
      <td>Master's &amp; above</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>73566.0</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>57.0</td>
      <td>1.0</td>
      <td>Operations</td>
      <td>region_28</td>
      <td>m</td>
      <td>other</td>
      <td>Master's &amp; above</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>21372.0</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>f</td>
      <td>sourcing</td>
      <td>Bachelor's</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 14 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">new_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0     False
6     False
7     False
8     False
9     False
10    False
11    False
12    False
13    False
1     False
2     False
4     False
5     False
3      True
dtype: bool
</pre></div></div>
</div>
</section>
<section id="id2">
<h3>With Enabling Encoding<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imputer</span> <span class="o">=</span> <span class="n">IterativeDataImputer</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span>
    <span class="n">col_impute</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_encoder</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">iterative_params</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;estimator&#39;</span><span class="p">:</span> <span class="n">RandomForestRegressor</span><span class="p">(),</span>
        <span class="s1">&#39;missing_values&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
        <span class="s1">&#39;sample_posterior&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;tol&#39;</span><span class="p">:</span> <span class="mf">1e-3</span><span class="p">,</span>
        <span class="s1">&#39;n_nearest_features&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;initial_strategy&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span>
        <span class="s1">&#39;imputation_order&#39;</span><span class="p">:</span> <span class="s1">&#39;ascending&#39;</span><span class="p">,</span>
        <span class="s1">&#39;skip_complete&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;min_value&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="s1">&#39;max_value&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="s1">&#39;random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">imputer</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
<span class="n">new_df</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

WARNING: &#39;enable_encoder&#39;=True and categorical columns will be encoded using ordinal encoding before applying the iterative imputation process.
If you&#39;d like to use a different type of encoding before imputation, consider using the Pipeline class and call your own encoder before calling this subclass for imputation.
[IterativeImputer] Completing matrix with shape (10000, 14)
[IterativeImputer] Change: 1.744667046565469, scaled tolerance: 78.297
[IterativeImputer] Early stopping criterion reached.
No columns specified for imputation. These columns have been automatically identified at transform time:
[&#39;3&#39;, &#39;8&#39;]

WARNING: Note that encoded columns are not guaranteed to reverse transform if they have imputed values.
If you&#39;d like to use a different type of encoding before imputation, consider using the Pipeline class and call your own encoder before calling this subclass.
[IterativeImputer] Completing matrix with shape (10000, 14)

Imputed categorical columns&#39; reverse encoding transformation complete.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65438.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_7</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>35.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>49.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>65141.0</td>
      <td>Operations</td>
      <td>region_22</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1.0</td>
      <td>30.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>60.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7513.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_19</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>34.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2542.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_23</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>2.0</td>
      <td>39.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48945.0</td>
      <td>Technology</td>
      <td>region_26</td>
      <td>Bachelor's</td>
      <td>m</td>
      <td>other</td>
      <td>1.0</td>
      <td>45.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>73.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>14934.0</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>other</td>
      <td>1.0</td>
      <td>37.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>22040.0</td>
      <td>Sales &amp; Marketing</td>
      <td>region_33</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>39.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>48.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>14188.0</td>
      <td>Finance</td>
      <td>region_13</td>
      <td>Master's &amp; above</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>33.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>58.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>73566.0</td>
      <td>Operations</td>
      <td>region_28</td>
      <td>Master's &amp; above</td>
      <td>m</td>
      <td>other</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>57.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>21372.0</td>
      <td>Procurement</td>
      <td>region_13</td>
      <td>Bachelor's</td>
      <td>f</td>
      <td>sourcing</td>
      <td>1.0</td>
      <td>32.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>71.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 14 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">new_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0     False
1     False
2     False
3     False
4     False
5     False
6     False
7     False
8     False
9     False
10    False
11    False
12    False
13    False
dtype: bool
</pre></div></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../dataprocessing/imputer/iterative.html" class="btn btn-neutral float-left" title="IterativeDataImputer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../dataprocessing/imputer/knn.html" class="btn btn-neutral float-right" title="KNNDataImputer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Microsoft.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>